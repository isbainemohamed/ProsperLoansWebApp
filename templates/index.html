<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
	<title>Prosper - Loans</title>

	<!-- Google font -->
	<link href="https://fonts.googleapis.com/css?family=Montserrat:300,600" rel="stylesheet">

	<!-- Bootstrap -->
	<link type="text/css" rel="stylesheet" href="../static/css/bootstrap.min.css" />

	<!-- Custom stlylesheet -->
	<link type="text/css" rel="stylesheet" href="../static/css/style.css" />

	<!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
	<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
	<!--[if lt IE 9]>
		  <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
		  <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
		<![endif]-->

</head>

<body>

	<div id="booking" class="section">
		<div class="section-center">
			<div class="container">
				<div class="row">
					<div class="booking-form">

                        <div id="spinner-div" >
                            <div class="loader" id="loader-3"></div>
                        </div>
                        <div id="reponse" >
                            <h1 id="good" style="color: limegreen"> The user is eligible to pay his debts</h1>
                            <h1 id="bad" style="color:firebrick"> The user is not eligible to pay his debts</h1>

                        </div>
						<form id="form" action="{{ url_for("process")}}" method="post">

							<div class="col-md-4">
								<div class="form-group">
                                    <span class="form-label">Full Name</span>
									<input name="full_name" id="full_name" class="form-control" type="text" placeholder="Enter the borrower name ... ">

								</div>
							</div>
							<div class="col-md-4">
								<div class="form-group">
                                    <span class="form-label">Term</span>
									<select name="term" id="term" class="form-control" required>
                                        <option value="" disabled selected>Select credit term</option>
										<option>36</option>
										<option>60</option>

									</select>
									<span class="select-arrow"></span>

								</div>
							</div>
							<div class="col-md-4">
								<div class="form-group">
                                    <span class="form-label">Grade</span>

									<select name="grade" id="grade" class="form-control" required>
                                        <option value="" disabled selected>Select credit grade</option>
										<option>A</option>
										<option>B</option>
                                        <option>C</option>
                                        <option>D</option>
                                        <option>E</option>
                                        <option>F</option>
                                        <option>G</option>
									</select>
									<span class="select-arrow"></span>

								</div>
							</div>
                            <div class="col-md-4">
								<div class="form-group">
                                    <span class="form-label">Interest Rate</span>
									<input name="int_rate" id="int_rate" class="form-control" type="number" min="10" max="100" placeholder="interest rate (percentage)">

								</div>
							</div>
                            <div class="col-md-4">
								<div class="form-group">
                                    <span class="form-label">Loan Amount</span>
									<input name="loan_amnt" id="loan_amnt" class="form-control" type="text" min="10" max="100" placeholder="loan amount">

								</div>
							</div>
							<div class="col-md-4">
								<div class="form-group">
                                    <span class="form-label">Job Title</span>
									<select name="emp_title" id="emp_title" class="form-control" required>
                                        <option  disabled selected>Select job title</option>
										<option value='account manager'>Account manager</option>
                                        <option value='accountant'>Accountant</option>
                                        <option value='administrative assistant'>Administrative assistant</option>
                                        <option value='administrator'>Administrator</option>
                                        <option value='analyst'>Analyst</option>
                                        <option value='assistant manager'>Assistant manager</option>
                                        <option value='attorney'>Attorney</option>
                                        <option value='branch manager'>Branch manager</option>
                                        <option value='ceo'>Ceo</option>
                                        <option value='clerk'>Clerk</option>
                                        <option value='consultant'>Consultant</option>
                                        <option value='controller'>Controller</option>
                                        <option value='customer service'>Customer service</option>
                                        <option value='director'>Director</option>
                                        <option value='driver'>Driver</option>
                                        <option value='electrician'>Electrician</option>
                                        <option value='engineer'>Engineer</option>
                                        <option value='executive assistant'>Executive assistant</option>
                                        <option value='foreman'>Foreman</option>
                                        <option value='general manager'>General manager</option>
                                        <option value='machine operator'>Machine operator</option>
                                        <option value='manager'>Manager</option>
                                        <option value='mechanic'>Mechanic</option>
                                        <option value='nurse'>Nurse</option>
                                        <option value='office manager'>Office manager</option>
                                        <option value='operations manager'>Operations manager</option>
                                        <option value='operator'>Operator</option>
                                        <option value='owner'>Owner</option>
                                        <option value='paralegal'>Paralegal</option>
                                        <option value='police officer'>Police officer</option>
                                        <option value='president'>President</option>
                                        <option value='program manager'>Program manager</option>
                                        <option value='project manager'>Project manager</option>
                                        <option value='sales'>Sales</option>
                                        <option value='sales manager'>Sales manager</option>
                                        <option value='server'>Server</option>
                                        <option value='software engineer'>Software engineer</option>
                                        <option value='store manager'>Store manager</option>
                                        <option value='supervisor'>Supervisor</option>
                                        <option value='teacher'>Teacher</option>
                                        <option value='technician'>Technician</option>
                                        <option value='truck driver'>Truck driver</option>
                                        <option value='vice president'>Vice president</option>
                                        <option value='other'>Other</option>
									</select>
									<span class="select-arrow"></span>

								</div>
							</div>
							<div class="col-md-4">
								<div class="form-group">
                                    <span class="form-label">Employment Length</span>
									<select name="emp_length" id="emp_length" class="form-control" required>
                                        <option value="" disabled selected>Select job length</option>
                                    <option value='0'>Less than 1 year</option>
                                        <option value='1'>1 year</option>
                                        <option value='2'>2 years</option>
                                        <option value='3'>3 years</option>
                                        <option value='4'>4 years</option>
                                        <option value='5'>5 years</option>
                                        <option value='6'>6 years</option>
                                        <option value='7'>7 years</option>
                                        <option value='8'>8 years</option>
                                        <option value='9'>9 years</option>
                                        <option value='10'>More than 10 years</option>
                                    </select>
									<span class="select-arrow"></span>

								</div>
							</div>
                            <div class="col-md-4">
								<div class="form-group">
                                    <span class="form-label">Home ownership</span>
									<select name="home_ownership" id="home_ownership" class="form-control" required>
                                        <option value="" disabled selected>Select home ownership</option>
                                        <option value='MORTGAGE'>Mortgage</option>
                                        <option value='OWN'>Owner</option>
                                        <option value='RENT'>Renter</option>
                                        <option value='ANY'>Other</option>

                                    </select>
									<span class="select-arrow"></span>

								</div>
							</div>
                            <div class="col-md-4">
								<div class="form-group">
                                    <span class="form-label">Annual Income</span>
									<input name="annual_inc" id="annual_inc" class="form-control" type="number" min="0"  placeholder="Annual Income (USD)">

								</div>
							</div>

                            <div class="col-md-4">
								<div class="form-group">
                                    <span class="form-label">Home ownership</span>
									<select name="verification_status" id="verification_status" class="form-control" required>
                                        <option value="" disabled selected>Select status verification</option>
                                        <option value='Source Verified'>Source verified</option>
                                        <option value='Source Not Verified'>Source not verified</option>


                                    </select>
									<span class="select-arrow"></span>

								</div>
							</div>

                             <div class="col-md-4">
								<div class="form-group">
                                    <span class="form-label">Credit purpose</span>
									<select name="purpose" id="purpose" class="form-control" required>
                                        <option value="" disabled selected>Select credit purpose</option>
                                        <option value='home_improvement'>Improve my home</option>
                                        <option value='debt_consolidation'>Pay off other debts</option>

                                        <option value='credit_card'>Use in credit card</option>
                                        <option value='medical'>Get medical treatment</option>
                                        <option value='car'>Buy a car</option>
                                        <option value='major_purchase'>Make major purchases</option>
                                        <option value='small_business'>Start small business</option>
                                        <option value='moving'>Move to another location</option>
                                        <option value='vacation'>Go in a vacation</option>
                                        <option value='house'>Buy a house</option>
                                        <option value='renewable_energy'>Use renewable energy</option>
                                        <option value='wedding'>Finance wedding</option>
                                        <option value='educational'>Finance studies</option>
                                         <option value='other'>Other</option>


                                    </select>
									<span class="select-arrow"></span>

								</div>
							</div>

                            <div class="col-md-4">
								<div class="form-group">
                                    <span class="form-label">Debt To Income</span>
									<input name="dti" id="dti" class="form-control" type="number" min="0"  placeholder="Debt to income ratio">

								</div>
							</div>
							<div class="col-md-4">
								<div class="form-btn">
									<button id="process" type="submit" class="submit-btn">Check eligibility</button>
								</div>
							</div>
                        </form>

                    </div>

					</div>
				</div>
			</div>
		</div>
	</div>
</body><!-- This templates was made by Colorlib (https://colorlib.com) -->
<script src="https://code.jquery.com/jquery-3.5.1.js"
          integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc="
          crossorigin="anonymous"></script>
<script type="text/javascript">
    $(document).on('submit','#form',function(e)
                   {
      console.log('form submitted');
      e.preventDefault();
      $('#spinner-div').show();//Load button clicked show spinner

      $.ajax({
        type:'POST',
        url:'/send',
        data:{
            full_name: $("#full_name").val(),
            term: $("#term").val(),
            grade: $("#grade").val(),
            int_rate: $("#int_rate").val(),
            loan_amnt: $("#loan_amnt").val(),
            emp_title: $("#emp_title").val(),
            emp_length: $("#emp_length").val(),
            home_ownership: $("#home_ownership").val(),
            annual_inc: $("#annual_inc").val(),
            verification_status: $("#verification_status").val(),
            purpose: $("#purpose").val(),
            dti: $("#dti").val()
        },
        success:function(resp)
        {
           $('#form').hide();
            $('#spinner-div').hide();//Request is complete so hide spinner
          console.log(resp);
        if(resp.prediction=="able"){
            $('#response').show();
            $('#good').show();

        }
        else if(resp.prediction=="enable") {
				$('#response').show();
            $('#bad').show();
			}




        }
      })
    });
  </script>
</html>